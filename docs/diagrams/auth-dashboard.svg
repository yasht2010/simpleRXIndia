<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 960 420" width="960" height="420" font-family="Arial, sans-serif">
  <defs>
    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="7" markerHeight="7" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#1f2937" />
    </marker>
    <style>
      .box { fill:#f8fafc; stroke:#1f2937; stroke-width:1.4; rx:8; ry:8; }
      .label { font-size:14px; fill:#0f172a; font-weight:bold; }
      .sublabel { font-size:12px; fill:#475569; }
      .arrow { stroke:#1f2937; stroke-width:1.6; marker-end:url(#arrow); fill:none; }
      .note { font-size:12px; fill:#111827; font-weight:600; }
    </style>
  </defs>

  <!-- Nodes -->
  <rect class="box" x="60" y="70" width="170" height="70" />
  <text x="145" y="100" text-anchor="middle" class="label">Browser</text>
  <text x="145" y="120" text-anchor="middle" class="sublabel">public/index.html</text>

  <rect class="box" x="370" y="70" width="190" height="70" />
  <text x="465" y="100" text-anchor="middle" class="label">Express server.js</text>
  <text x="465" y="120" text-anchor="middle" class="sublabel">session + auth APIs</text>

  <rect class="box" x="680" y="70" width="190" height="70" />
  <text x="775" y="100" text-anchor="middle" class="label">Session Store</text>
  <text x="775" y="120" text-anchor="middle" class="sublabel">Supabase Postgres</text>

  <!-- Login flow -->
  <line class="arrow" x1="230" y1="105" x2="370" y2="105" />
  <text class="note" x="300" y="95" text-anchor="middle">POST /api/login</text>

  <line class="arrow" x1="560" y1="105" x2="680" y2="105" />
  <text class="note" x="620" y="95" text-anchor="middle">set session.userId</text>

  <line class="arrow" x1="680" y1="125" x2="560" y2="125" />
  <text class="note" x="620" y="145" text-anchor="middle">session persisted</text>

  <line class="arrow" x1="370" y1="125" x2="230" y2="125" />
  <text class="note" x="300" y="145" text-anchor="middle">{success:true}</text>

  <!-- Dashboard load -->
  <rect class="box" x="60" y="240" width="170" height="70" />
  <text x="145" y="270" text-anchor="middle" class="label">Browser</text>
  <text x="145" y="290" text-anchor="middle" class="sublabel">dashboard load</text>

  <rect class="box" x="370" y="240" width="190" height="70" />
  <text x="465" y="270" text-anchor="middle" class="label">Express server.js</text>
  <text x="465" y="290" text-anchor="middle" class="sublabel">/api/me</text>

  <rect class="box" x="680" y="240" width="190" height="70" />
  <text x="775" y="270" text-anchor="middle" class="label">Session Store</text>
  <text x="775" y="290" text-anchor="middle" class="sublabel">validate userId</text>

  <line class="arrow" x1="230" y1="275" x2="370" y2="275" />
  <text class="note" x="300" y="265" text-anchor="middle">GET /api/me</text>

  <line class="arrow" x1="560" y1="275" x2="680" y2="275" />
  <text class="note" x="620" y="265" text-anchor="middle">check session</text>

  <line class="arrow" x1="680" y1="295" x2="560" y2="295" />
  <text class="note" x="620" y="315" text-anchor="middle">user + credits</text>

  <line class="arrow" x1="370" y1="295" x2="230" y2="295" />
  <text class="note" x="300" y="315" text-anchor="middle">{phone, credits, header}</text>
</svg>
